(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{35:function(e,t,c){},54:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),o=c(28),i=c.n(o),l=(c(35),c(10)),j=c(4),a=c(9),r=c.n(a),u=s.a.createContext([]),b=(c(54),c(1)),d=function(e){var t=Object(n.useContext)(u).postAPI,c=Object(n.useRef)(),s=Object(n.useRef)();return Object(b.jsxs)("div",{className:"NewPost",children:[Object(b.jsxs)("form",{ref:c,children:[Object(b.jsx)("h1",{children:"Add a Post"}),Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{type:"text",label:"title",name:"title"}),Object(b.jsx)("label",{children:"Content"}),Object(b.jsx)("textarea",{rows:"4",label:"content",name:"content"}),Object(b.jsx)("label",{children:"Author"}),Object(b.jsxs)("select",{label:"author",name:"author",children:[Object(b.jsx)("option",{value:"Dean",children:"Dean"}),Object(b.jsx)("option",{value:"Moe",children:"Moe"})]})]}),Object(b.jsx)("button",{onClick:function(){var n=c.current,s={title:n.title.value,content:n.content.value,author:n.author.value};console.log(s),r.a.post(t,s).then((function(t){console.log("Success:",t),e.history.push("/posts")})).catch((function(e){console.error("Error:",e)}))},children:"Add Post "}),Object(b.jsx)("input",{ref:s,type:"text",label:"i",name:"i"}),Object(b.jsx)("button",{onClick:function(){console.log(s.current.value)},children:"Print Val "})]})},h=(c(56),c(30)),O=s.a.createContext([]),x=(c(57),function(e){var t=Object(n.useContext)(O),c=t.likedPosts,s=t.setLikedPosts;return Object(b.jsxs)("article",{className:"Post",onClick:e.clicked,children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsx)("div",{className:"Info",children:Object(b.jsx)("div",{className:"Author",children:e.author})}),c.includes(e.id)?Object(b.jsx)("button",{onClick:function(){console.log("ANSWER HERE")},children:"Unfollow "}):Object(b.jsx)("button",{onClick:function(){console.log(c),s([].concat(Object(h.a)(c),[e.id]))},children:"Follow "})]})}),p=(c(58),c(2)),f=(c(59),function(e){var t=Object(n.useContext)(u).postAPI,c={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},s=Object(n.useState)({}),o=Object(j.a)(s,2),i=o[0],l=o[1],a=Object(n.useState)(null),d=Object(j.a)(a,2),h=d[0],O=d[1];Object(n.useEffect)((function(){O(e.match.params.id)}),[]),Object(n.useEffect)((function(){h!==e.match.params.id&&r()(t+e.match.params.id,{headers:c}).then((function(t){l(t.data),O(e.match.params.id),console.log("This wont get called again ")}))}),[e]);var x=Object(b.jsx)("p",{style:{justifyContent:"space-around"},children:" Please select a Post!"});return null!=e.match.params.id&&(x=Object(b.jsxs)("div",{className:"FullPost",children:[Object(b.jsx)("h1",{children:i.title}),Object(b.jsx)("p",{children:i.content}),Object(b.jsx)("div",{className:"Edit",children:Object(b.jsx)("button",{onClick:function(){r.a.delete(t+e.match.params.id,{headers:c}).then((function(t){e.history.push("/"),console.log(t)}))},className:"Delete",children:"Delete"})})]})),x}),m=s.a.memo((function(e){return console.log("renders: "),Object(b.jsx)("button",{onClick:e.increment,children:" Test"})})),v=function(e){var t=Object(n.useContext)(u).postAPI,c=Object(n.useState)(0),s=Object(j.a)(c,2),o=s[0],i=s[1],a=Object(n.useState)(0),d=Object(j.a)(a,2),h=d[0],O=d[1],v=Object(n.useState)(0),C=Object(j.a)(v,2),g=C[0],k=C[1],P=Object(n.useState)([]),A=Object(j.a)(P,2),S=A[0],w=A[1],N=Object(n.useState)(!1),y=Object(j.a)(N,2),E=y[0],I=y[1],T=Object(n.useState)(),R=Object(j.a)(T,2),D=R[0],M=R[1],L=Object(n.useState)(null),B=Object(j.a)(L,2),F=(B[0],B[1]),H=Object(n.useState)(!1),J=Object(j.a)(H,2),q=J[0],U=J[1],V=Object(n.useState)(1),W=Object(j.a)(V,2),X=W[0],z=W[1];Object(n.useEffect)((function(){I(!0),M(null),r()(t,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){w(e.data)})).catch((function(e){M(e.message),I(!1)}))}),[]);Object(n.useMemo)((function(){var e;console.log("Computation done!  "+10*e)}),[o]);var G=Object(n.useCallback)((function(){k((function(e){return e+X}))}),[X]),K=S.map((function(t){return Object(b.jsx)(l.b,{to:e.match.url+"/"+t.id,children:Object(b.jsx)(x,{title:t.title,author:t.author,clicked:function(){var e;e=t.id,F(e)},id:t.id})},t.id)})),Q=Object(b.jsx)("p",{children:"No posts available"});return K.length>0?Q=K:D?Q=Object(b.jsx)("p",{children:D}):E&&(Q=Object(b.jsx)("p",{children:" Loading ... "})),Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:"Posts",children:Q}),Object(b.jsx)(p.b,{path:e.match.url+"/:id",component:f}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:[Object(b.jsxs)("div",{children:[q&&Object(b.jsx)("label",{children:" SECRET TEXT"}),Object(b.jsx)("button",{onClick:function(){return U(!q)},children:" Hide/Show"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"number",value:h,onChange:function(e){return O(parseInt(e.target.value))}}),Object(b.jsx)("button",{onClick:function(){return i(h)},children:" Compute"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{increment:G}),Object(b.jsxs)("div",{children:["count: ",g]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return k(g+1)},children:" Make it render "}),Object(b.jsx)("button",{onClick:function(){z(X+5),console.log(X)},children:" Add 5 "})]})]})]})},C=function(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],o=c[1];return Object(b.jsx)(u.Provider,{value:{postAPI:"http://localhost:8080/posts/",userAPI:"http://localhost:8080/users/"},children:Object(b.jsx)(O.Provider,{value:{likedPosts:s,setLikedPosts:o},children:Object(b.jsxs)("div",{className:"Blog",children:[Object(b.jsx)("header",{children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/posts",children:" Posts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:{pathname:"/new-post",hash:"#submit",search:"?quick-submit=true"},children:"New Post"})})]})})}),Object(b.jsxs)(p.d,{children:[Object(b.jsx)(p.b,{path:"/new-post",component:d}),Object(b.jsx)(p.b,{path:"/posts",component:v}),Object(b.jsx)(p.a,{from:"/",to:"/posts"}),"      "]})]})})})},g=function(){return Object(b.jsx)(l.a,{children:Object(b.jsx)(C,{})})};i.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.6a12bf43.chunk.js.map